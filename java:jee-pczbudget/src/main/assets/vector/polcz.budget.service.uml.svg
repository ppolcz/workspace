<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="592px" style="width:589px;height:592px;" version="1.1" viewBox="0 0 589 592" width="589px"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><polygon fill="#FFFFFF" filter="url(#f1)" points="22,24,189,24,196,46.2969,582,46.2969,582,585,22,585,22,24" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="22" x2="196" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="26" y="38.9951">service (EJB3 beans)</text><rect fill="#FEFECE" filter="url(#f1)" height="109.9609" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="400.5" y="343"/><ellipse cx="415.5" cy="361.9688" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M415.6094,357.3125 L414.4531,362.3906 L416.7813,362.3906 L415.6094,357.3125 Z M414.125,355.0781 L417.1094,355.0781 L420.4688,367.4688 L418.0156,367.4688 L417.25,364.4063 L413.9688,364.4063 L413.2188,367.4688 L410.7813,367.4688 L414.125,355.0781 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="427.5" y="359.1387">«admin, customer»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="97" x="438" y="373.1074">AbstractService</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="9" x="551.5" y="340"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="552.5" y="352.1387">T</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="401.5" x2="556.5" y1="380.9375" y2="380.9375"/><ellipse cx="411.5" cy="392.8398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="420.5" y="395.1479">find(Object) : T</text><ellipse cx="411.5" cy="405.6445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="420.5" y="407.9526">findAll() : List&lt;T&gt;</text><ellipse cx="411.5" cy="418.4492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="420.5" y="420.7573">create(T) : void</text><ellipse cx="411.5" cy="431.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="420.5" y="433.562">edit(T) : void</text><ellipse cx="411.5" cy="444.0586" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="420.5" y="446.3667">remove(T) : void</text><rect fill="#FEFECE" filter="url(#f1)" height="58.7422" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="117" y="415.5"/><ellipse cx="151.35" cy="434.4688" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M150.2563,434.8438 L150.2563,438.5156 L151.8813,438.5156 Q153.0531,438.5156 153.5219,438.1172 Q153.9906,437.7188 153.9906,436.7188 Q153.9906,435.7188 153.4984,435.2813 Q153.0063,434.8438 151.8813,434.8438 L150.2563,434.8438 Z M150.2563,430.0156 L150.2563,432.8906 L151.8813,432.8906 Q152.8031,432.8906 153.2016,432.5547 Q153.6,432.2188 153.6,431.4688 Q153.6,430.7031 153.1938,430.3594 Q152.7875,430.0156 151.8813,430.0156 L150.2563,430.0156 Z M147.8813,428.0625 L151.8813,428.0625 Q153.9438,428.0625 154.9906,428.8438 Q156.0375,429.625 156.0375,431.1875 Q156.0375,432.3906 155.4203,433.0625 Q154.8031,433.7344 153.6156,433.8438 Q155.0375,433.9844 155.7563,434.7969 Q156.475,435.6094 156.475,437.0625 Q156.475,438.8594 155.3969,439.6641 Q154.3188,440.4688 151.8813,440.4688 L147.8813,440.4688 L147.8813,428.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="174.15" y="431.6387">«admin»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="169.65" y="445.6074">CAService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="118" x2="252" y1="453.4375" y2="453.4375"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="125" y="462.3398"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="137" y="467.6479">em : EntityManager</text><rect fill="#FEFECE" filter="url(#f1)" height="58.7422" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="112" y="509.5"/><ellipse cx="127" cy="528.4688" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M125.9063,528.8438 L125.9063,532.5156 L127.5313,532.5156 Q128.7031,532.5156 129.1719,532.1172 Q129.6406,531.7188 129.6406,530.7188 Q129.6406,529.7188 129.1484,529.2813 Q128.6563,528.8438 127.5313,528.8438 L125.9063,528.8438 Z M125.9063,524.0156 L125.9063,526.8906 L127.5313,526.8906 Q128.4531,526.8906 128.8516,526.5547 Q129.25,526.2188 129.25,525.4688 Q129.25,524.7031 128.8438,524.3594 Q128.4375,524.0156 127.5313,524.0156 L125.9063,524.0156 Z M123.5313,522.0625 L127.5313,522.0625 Q129.5938,522.0625 130.6406,522.8438 Q131.6875,523.625 131.6875,525.1875 Q131.6875,526.3906 131.0703,527.0625 Q130.4531,527.7344 129.2656,527.8438 Q130.6875,527.9844 131.4063,528.7969 Q132.125,529.6094 132.125,531.0625 Q132.125,532.8594 131.0469,533.6641 Q129.9688,534.4688 127.5313,534.4688 L123.5313,534.4688 L123.5313,522.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="139" y="525.6387">«admin, customer»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="153.5" y="539.6074">ClusterService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="113" x2="257" y1="547.4375" y2="547.4375"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="120" y="556.3398"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="132" y="561.6479">em : EntityManager</text><rect fill="#FEFECE" filter="url(#f1)" height="58.7422" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="112" y="321.5"/><ellipse cx="127" cy="340.4688" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M125.9063,340.8438 L125.9063,344.5156 L127.5313,344.5156 Q128.7031,344.5156 129.1719,344.1172 Q129.6406,343.7188 129.6406,342.7188 Q129.6406,341.7188 129.1484,341.2813 Q128.6563,340.8438 127.5313,340.8438 L125.9063,340.8438 Z M125.9063,336.0156 L125.9063,338.8906 L127.5313,338.8906 Q128.4531,338.8906 128.8516,338.5547 Q129.25,338.2188 129.25,337.4688 Q129.25,336.7031 128.8438,336.3594 Q128.4375,336.0156 127.5313,336.0156 L125.9063,336.0156 Z M123.5313,334.0625 L127.5313,334.0625 Q129.5938,334.0625 130.6406,334.8438 Q131.6875,335.625 131.6875,337.1875 Q131.6875,338.3906 131.0703,339.0625 Q130.4531,339.7344 129.2656,339.8438 Q130.6875,339.9844 131.4063,340.7969 Q132.125,341.6094 132.125,343.0625 Q132.125,344.8594 131.0469,345.6641 Q129.9688,346.4688 127.5313,346.4688 L123.5313,346.4688 L123.5313,334.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="139" y="337.6387">«admin, customer»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="154" y="351.6074">MarketService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="113" x2="257" y1="359.4375" y2="359.4375"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="120" y="368.3398"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="132" y="373.6479">em : EntityManager</text><rect fill="#FEFECE" filter="url(#f1)" height="113.9609" style="stroke: #A80036; stroke-width: 1.5;" width="261" x="54.5" y="172"/><ellipse cx="121.25" cy="190.9688" fill="#DA70D6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M120.1563,191.3438 L120.1563,195.0156 L121.7813,195.0156 Q122.9531,195.0156 123.4219,194.6172 Q123.8906,194.2188 123.8906,193.2188 Q123.8906,192.2188 123.3984,191.7813 Q122.9063,191.3438 121.7813,191.3438 L120.1563,191.3438 Z M120.1563,186.5156 L120.1563,189.3906 L121.7813,189.3906 Q122.7031,189.3906 123.1016,189.0547 Q123.5,188.7188 123.5,187.9688 Q123.5,187.2031 123.0938,186.8594 Q122.6875,186.5156 121.7813,186.5156 L120.1563,186.5156 Z M117.7813,184.5625 L121.7813,184.5625 Q123.8438,184.5625 124.8906,185.3438 Q125.9375,186.125 125.9375,187.6875 Q125.9375,188.8906 125.3203,189.5625 Q124.7031,190.2344 123.5156,190.3438 Q124.9375,190.4844 125.6563,191.2969 Q126.375,192.1094 126.375,193.5625 Q126.375,195.3594 125.2969,196.1641 Q124.2188,196.9688 121.7813,196.9688 L117.7813,196.9688 L117.7813,184.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="142.25" y="188.1387">«admin, customer»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="141.75" y="202.1074">TransactionService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="55.5" x2="314.5" y1="209.9375" y2="209.9375"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="62.5" y="218.8398"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="74.5" y="224.1479">em : EntityManager</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="62.5" y="231.6445"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="74.5" y="236.9526">find(SelectByArguments)</text><ellipse cx="65.5" cy="264.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="74.5" y="266.562">makeTransaction(TransactionArguments)</text><ellipse cx="65.5" cy="277.0586" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="74.5" y="279.3667">edit(TTransaction) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="216.5" y="279.3667">(guilt-free)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="146.5" y1="249.9492" y2="249.9492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="146.5" y="253.2573">Transactional</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="223.5" x2="314.5" y1="249.9492" y2="249.9492"/><rect fill="#FEFECE" filter="url(#f1)" height="78.4141" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="392" y="125"/><ellipse cx="407" cy="141" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M409.9688,146.6406 Q409.3906,146.9375 408.75,147.0859 Q408.1094,147.2344 407.4063,147.2344 Q404.9063,147.2344 403.5859,145.5859 Q402.2656,143.9375 402.2656,140.8125 Q402.2656,137.6875 403.5859,136.0313 Q404.9063,134.375 407.4063,134.375 Q408.1094,134.375 408.7578,134.5313 Q409.4063,134.6875 409.9688,134.9844 L409.9688,137.7031 Q409.3438,137.125 408.75,136.8516 Q408.1563,136.5781 407.5313,136.5781 Q406.1875,136.5781 405.5,137.6484 Q404.8125,138.7188 404.8125,140.8125 Q404.8125,142.9063 405.5,143.9766 Q406.1875,145.0469 407.5313,145.0469 Q408.1563,145.0469 408.75,144.7734 Q409.3438,144.5 409.9688,143.9219 L409.9688,146.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="142" x="421" y="145.1543">TransactionArguments</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="393" x2="565" y1="157" y2="157"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="400" y="165.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="412" y="171.2104">acttr : TTransaction</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="400" y="178.707"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="412" y="184.0151">oldtr : TTransaction</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="400" y="191.5117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="412" y="196.8198">type : int</text><rect fill="#FEFECE" filter="url(#f1)" height="78.4141" style="stroke: #A80036; stroke-width: 1.5;" width="294" x="38" y="59"/><ellipse cx="118.25" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M121.2188,80.6406 Q120.6406,80.9375 120,81.0859 Q119.3594,81.2344 118.6563,81.2344 Q116.1563,81.2344 114.8359,79.5859 Q113.5156,77.9375 113.5156,74.8125 Q113.5156,71.6875 114.8359,70.0313 Q116.1563,68.375 118.6563,68.375 Q119.3594,68.375 120.0078,68.5313 Q120.6563,68.6875 121.2188,68.9844 L121.2188,71.7031 Q120.5938,71.125 120,70.8516 Q119.4063,70.5781 118.7813,70.5781 Q117.4375,70.5781 116.75,71.6484 Q116.0625,72.7188 116.0625,74.8125 Q116.0625,76.9063 116.75,77.9766 Q117.4375,79.0469 118.7813,79.0469 Q119.4063,79.0469 120,78.7734 Q120.5938,78.5 121.2188,77.9219 L121.2188,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="138.75" y="79.1543">TransactionUpdater</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="331" y1="91" y2="91"/><ellipse cx="49" cy="102.9023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="58" y="105.2104">execute() : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="112.707"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="58" y="118.0151">recalculate(List&lt;TTransaction&gt;)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="125.5117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="268" x="58" y="130.8198">findDirtyElements(Date, Date, TChargeAccount)</text><path d="M253.357,434.158 C291.063,428.089 338.742,420.415 380.466,413.699 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="379.541,406.758,400.4,410.49,381.766,420.58,379.541,406.758" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M258.351,519.7935 C282.308,512.3672 308.77,502.9854 332,492 C349.193,483.87 366.778,474.038 383.518,463.837 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="379.941,457.818,400.606,453.129,387.375,469.681,379.941,457.818" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M258.18,362.618 C295.009,368.546 340.344,375.843 380.256,382.267 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="381.624,375.397,400.257,385.487,379.399,389.219,381.624,375.397" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M299.767,286.068 C310.738,291.982 321.633,298.019 332,304 C348.852,313.723 366.486,324.517 383.437,335.225 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="387.355,329.421,400.448,346.082,379.823,341.223,387.355,329.421" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M185,137.282 C185,148.836 185,160.39 185,171.943 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M315.776,200.112 C341.517,194.381 367.94,188.5 391.79,183.191 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M332.428,131.097 C352.777,135.696 373.114,140.293 391.86,144.53 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/></g></svg>